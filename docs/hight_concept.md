Story Driven Analytical System

Concept Document v0.2

Введение

Этот документ описывает концепцию Story Driven аналитико-информационного инструмента, цель которого — формировать сюжеты (stories) на основе:

Графа постов/новостей/заметок (контентный слой).

Графа акторов (Actors) — людей, компаний, стран, организаций и др., извлекаемых через NER и редакторскую курацию.

Оба слоя объединяются в двухуровневый граф, из которого формируются кластеры — кандидаты в сюжеты. Сюжеты обновляются автоматически, но редактор может редактировать, объединять, разделять и управлять акторами.

1. Двухуровневая структура данных
1.1. Слой 1: Посты (Documents Layer)

Узлы: посты / новости / заметки.

Связи: семантическая близость (эмбеддинги), редакторские «связано/не связано».

Метрики: косинусная близость, время публикации, домены.

1.2. Слой 2: Акторы (Actors Layer)

Узлы: акторы (персоны, компании, страны, организации, структуры, события).

Связи: member_of, ally_of, competitor_of, part_of, operates_in, role_in, regulates, owns.

Метрики: частота упоминаний, тип связи, доверие, временные рамки.

1.3. Перекрёстные связи

Рёбра post ↔ actor: упоминание актора в посте, с атрибутами (роль, контекст, уверенность).

2. Автоматическое формирование
2.1. Посты

Эмбеддинг текста (summary + ключевые сущности).

Кластеризация по косинусной близости (HDBSCAN / kNN-граф).

Склейка по общим акторам (shared actors → bonus к близости).

Дубликаты (репосты) удаляются.

2.2. Акторы

Извлечение NER (модель + газеттир).

Канонизация через словарь (canonical_name, алиасы).

Автогенерация связей по паттернам: «министр X → member_of Government», «подразделение Y → part_of Holding Z».

Событийные связи (ephemeral): «X раскритиковал Y», TTL 30–90 дней.

3. Редакторская работа
3.1. Посты

Merge / Split сюжетов.

Исключение постов из сюжета.

Ручная пометка связности/несвязности (overrides автоматики).

Pin поста как ядро сюжета.

3.2. Акторы

Создать актора.

Добавить/удалить алиас, прозвище, эвфемизм.

Merge / Split акторов.

Правка канона, типа, статуса.

Управление связями (добавить competitor_of, ally_of).

Массовые правки (CSV импорт/экспорт).

3.3. Эффект на сюжеты

Любая правка в слое постов или акторов пересчитывает сюжеты.

Merge акторов → объединение сюжетов, где они ключевые.

Split актора → потенциальное расщепление сюжетов.

Новая связь между акторами → пересмотр merge-кандидатов среди сюжетов.

4. UI принципы
4.1. Stories UI

Список сюжетов с метриками: relevance, cohesion, size, freshness.

Карточка сюжета: заголовок, буллеты, топ-акторы, источники.

Таймлайн: факты ↑, мнения ↓.

Кнопки: merge, split, edit, freeze, pin actor.

Explain: вклад SimTotal (cos текст, overlap акторов, domain, role).

4.2. Actors UI

Карточка актора: имя, тип, тренды упоминаний, топ-домены.

Вкладка «Алиасы»: surface forms, тип (nickname, typo).

Вкладка «Mentions»: свежие упоминания, быстрые действия (✓ подтвердить, ✗ отклонить).

Вкладка «Связи»: мини-граф (ally_of, competitor_of, member_of).

Инспектор неоднозначности: распределение surface_form → акторы.

4.3. Связанность

В карточке сюжета виден мини-граф акторов.

В карточке актора → список сюжетов, где он участвует.

Клик по посту → показать акторов внутри.

Все панели связаны: действие на одном уровне отражается в другом.

5. Перестройка и живучесть сюжетов

Сюжет = динамический кластер.

Метрика relevance определяет, насколько он «актуален».

Сюжет угасает при тишине, но всплывает, если появляется новое значимое событие.

Важные события определяются по доверительным источникам, всплескам активности или критическим акторам.

Акторы придают структуру: объединяют сюжеты, уточняют границы, помогают редактору ориентироваться.

Итог

Получается единая система:

Источники: посты, новости, заметки.

Акторы: люди, компании, страны, структуры.

Двухуровневый граф: посты ↔ акторы, с семантическими и ролевыми связями.

Кластеры: формируются автоматически и корректируются редактором → становятся сюжетами.

UI: три модуля — список сюжетов, карточка сюжета, карточка актора. Всё связано и перестраивается автоматически.

Цель: не просто выдавать дайджест, а строить структурированное понимание ситуации: активные сюжеты, их история, акторы и связи, спектр мнений, прогнозы и последствия.